<!DOCTYPE html>
<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMART</title>
  <!-- Vendor Stylesheets -->
  <!--<link href="./static/assets/css/reset.css" rel="stylesheet" type="text/css">-->
  <link rel="stylesheet" href="./static/assets/css2/plugins/bootstrap.min.css">
  <link rel="stylesheet" href="./static/assets/css2/plugins/animate.min.css">
  <!-- Icon Fonts -->
  <link rel="stylesheet" href="./static/assets/fonts/flaticon/flaticon.css">
  <link rel="stylesheet" href="./static/assets/css2/plugins/font-awesome.min.css">
  <!-- Tilakam Style sheet -->
  <link rel="stylesheet" href="./static/assets/css2/style.css">
  <link rel="stylesheet" href="./static/assets/css2/responsive.css">
  <!-- MyStyle -->
  <link rel="stylesheet" href="./static/assets/css/jsa.css">
  <link rel="stylesheet" href="./static/assets/css/chrome.css">
  <link rel="stylesheet" href="./static/assets/css/mosaic.css">
  <!--<link rel="stylesheet" href="./static/assets/css2/mystyle.css">-->
  <link rel="stylesheet" href="./static/assets/css/main.css">
  <script type="text/javascript" src="./static/assets/js2/JSmol.min.js"></script>
  <script type="text/javascript" src="./static/assets/js2/JSmolJME.js"></script>
  <script type="text/javascript" language="javascript" src="./static/assets/js2/jsme/jsme.nocache.js"></script>
  <!--<script>

    //this function will be called after the JavaScriptApplet code has been loaded.
    function jsmeOnLoad() {
      // glutathione
      //var startingStructure = "20 19 C 6.61 -7.11 C 7.82 -7.81 O 6.61 -5.71 O 5.40 -7.81 N 7.82 -9.21 C 9.03 -7.11 C 10.25 -7.81 C 11.46 -7.11 N 12.67 -7.81 O 11.46 -5.71 C 13.88 -7.11 C 15.10 -7.81 O 15.10 -9.21 N 16.31 -7.11 C 17.52 -7.81 C 18.73 -7.11 C 13.88 -5.71 O 19.94 -7.81 O 18.73 -5.71 S 15.09 -5.01 1 2 1 1 3 2 1 4 1 2 5 -2 2 6 1 6 7 1 7 8 1 8 9 1 8 10 2 9 11 1 11 12 1 12 13 2 12 14 1 14 15 1 15 16 1 11 17 -1 16 18 1 16 19 2 17 20 1";
      //Instantiate a new JSME:
      //arguments: HTML id, width, height (must be string not number!)

      jsmeApplet = new JSApplet.JSME("appletContainer", "380px", "340px", {
        //optional parameters
        "options": "query,hydrogens,fullScreenIcon",
        //"jme": startingStructure // JME mol format
      });


      //Alternative method: the size is not specified: the applet will use 100% of the space of its parent container "appletContainer".
      //Be sure that the parent container size > 0, otherwise the applet will not be visible

      /*    	jsmeApplet = new JSApplet.JSME("appletContainer",  {
                   //optional parameters
                  "options" : "query,hydrogens",
                  "jme" : startingStructure
              });
       */


      //Opera patch: if some applet elements are not displayed, force repaint
      //jsmeApplet.deferredRepaint(); //the applet will be repainted after the browser event loop returns
      //it is recommended to use it if the JSME is created outside this jsmeOnLoad() function


      //jsmeApplet has the same API as the original Java applet
      //One can mimic the JME Java applet access to simplify the adaptation of HTML and JavaScript code:
      document.JME = jsmeApplet;


      //suggestion
      //all buttons that access the jsme variable were disabled in the html
      //Now enable all buttons that can access the jsme variable since the applet is ready
      //example:
      //document.getElementById("button").disabled=false;


      document.getElementById("inchiKeyUrlTextArea").value = jsmeApplet.getWebSearchInchiKeyBaseUrl();

    }


    function readMolecule() {
      var jme = "16 17 C 7.37 -8.99 C 7.37 -7.59 C 6.16 -6.89 C 4.95 -7.59 C 4.95 -8.99 C 6.16 -9.69 N 8.58 -6.89 C 8.58 -5.49 C 7.37 -4.79 O 6.16 -5.49 C 9.80 -7.59 O 9.80 -8.99 C 11.01 -6.89 Cl 12.22 -7.59 Cl 11.01 -5.49 C 9.80 -4.79 1 2 1 2 3 2 3 4 1 4 5 2 5 6 1 6 1 2 7 8 1 8 9 1 9 10 1 3 10 1 2 7 1 7 11 1 11 12 2 11 13 1 13 14 1 13 15 1 8 16 1";
      jsmeApplet.readMolecule(jme); // or document.JME.readMolecule(jme);
    }

    function readMultipart() {
      var jme = "9 9 C 6.68 -7.15 C 5.47 -6.45 C 4.26 -7.15 C 4.26 -8.55 C 5.47 -9.25 C 6.68 -8.55 C 5.47 -5.05 O- 6.68 -4.35 O 4.26 -4.35 1 2 1 2 3 2 3 4 1 4 5 2 5 6 1 6 1 2 2 7 1 7 8 1 7 9 2|1 0 Na+ 12.21 -6.61";
      jsmeApplet.readMolecule(jme) // or document.JME.readMolecule(jme
    }

    function readReaction() {
      var jme = "3 2 C:1 1.41 -7.12 O:2 1.41 -5.72 Cl 2.63 -7.82 1 2 2 1 3 1|3 2 N:3 5.72 -6.78 C:4 7.12 -6.78 H:5 5.02 -7.99 1 2 1 1 3 1 >> 5 4 C:1 13.51 -6.40 O:2 13.51 -5.00 N:3 14.72 -7.10 C:4 15.94 -6.40 H:5 14.71 -8.50 1 2 2 1 3 1 3 4 1 3 5 1";
      jsmeApplet.readMolecule(jme);
    }
    ß

    function getSmiles() {
      var data = document.JME.smiles();
      document.getElementById("jme_output").value = data;
    }

    function getJMEstring() {
      var data = document.JME.jmeFile();
      document.getElementById("jme_output").value = data;
    }

    function getMultiSDFstack() {
      var data = document.JME.getMultiSDFstack();
      var output = "No multirecords SDF was pasted into the editor ";
      if (data.length > 0) {
        output = data.join("$$$$\n") + "$$$$\n";
      }
      document.getElementById("jme_output").value = output;
    }

    function readMoleculeFromTextArea() {
      var jme = document.getElementById("jme_output").value;
      jsmeApplet.readMolecule(jme);
    }

    function readMOLFromTextArea() {
      var mol = document.getElementById("jme_output").value;
      jsmeApplet.readMolFile(mol);
    }

    function readAnyFromTextArea() {
      var mol = document.getElementById("jme_output").value;
      jsmeApplet.readGenericMolecularInput(mol);
    }

  </script>-->

</head>

<body>


<!-- Header Start -->
<header class="sigma_header header-1 can-sticky header-absolute header-light">

  <!-- Middle Header Start -->
  <div class="sigma_header-middle">
    <div class="container">
      <nav class="navbar">

        <!-- Logo Start -->
        <div class="sigma_logo-wrapper">
          <a class="navbar-brand" href="index">
            <img src="./static/assets/img/SMART_logo2.svg" alt="logo">
          </a>
        </div>
        <!-- Logo End -->

        <ul class="navbar-nav">
          <li class="menu-item">
            <a href="index">Home</a>
          </li>
          <li class="menu-item menu-item-has-children">
            <a href="#">Browse</a>
            <ul class="sub-menu">
              <li class="menu-item">
                <a href="Browse_C">Molecule</a>
              </li>
              <li class="menu-item">
                <a href="Browse_P">Pathway</a>
              </li>
              <li class="menu-item">
                <a href="Browse_T">Target</a>
              </li>
            </ul>
          </li>
          <li class="menu-item menu-item-has-children">
            <a href="#">Search</a>
            <ul class="sub-menu">
              <li class="menu-item"> <a href="Search_text">Text</a> </li>
              <li class="menu-item"> <a href="Search_Structure">Structure</a> </li>
              <li class="menu-item"> <a href="Search_sequence">Sequence</a> </li>
            </ul>
          </li>
          <li class="menu-item menu-item-has-children">
            <a href="#">Download</a>
            <ul class="sub-menu">
              <li class="menu-item"> <a href="./static/download/SMILES.zip">2D structure files</a> </li>
              <li class="menu-item"> <a href="./static/download/mol2.zip">3D structure files</a> </li>
            </ul>
          </li>
          <li class="menu-item">
            <a href="greeting">Contribute</a>
          </li>
          <li class="menu-item">
            <a href="help">Help</a>
          </li>
          <li class="menu-item">
            <a href="citingus">Contact</a>
          </li>

        </ul>
      </nav>
    </div>
  </div>
  <!-- Middle Header End -->

</header>
<!-- Header End -->


  <!-- Banner Start -->
  <div class="sigma_banner banner-3" style="height: 105px;background-image: url('./static/assets/img/head-stat.png');">
  </div>
  
  <div class="upload-content">
  <div class="upload-title">
    <img src="./static/assets/img/Upload.svg" alt="">
  </div>
  <div class="upload-box">
    <form  th:action="@{upload_data}" th:object="${compounds}" method="post" class="upload">
    <div class="upload-left">
      <h5 class="mod" style="font-family: Helvetica, Arial, sans-serif">Name</h5>
      <p class="mod-txt">Molecular name</p>
      <input type="text" name="compoundsName" th:field="*{ChemicalNames}" >
      <p class="mod-txt">Iupac name</p>
      <input type="text" name="iupacName" th:field="*{IUPAC_Name}" >
      <h5 class="mod" style="font-family: Helvetica, Arial, sans-serif">Molecular Structure</h5>
      <p class="mod-txt">SMILE format</p>
      <input type="text" name="Smiles" id="smilefile" th:field="*{Smiles}">
      <p class="mod-txt">Or upload files</p>
      <!-- <input id="lefile" type="file" style="display:none"> -->
      <div class="input-append">
        <input id="FileName" class="input-large" type="text">
      <a class="btn" onclick="$('input[id=uploadFiles]').click();"></a>
      </div>
      <p class="tit">input structure format :.mol2 .sdf</p>
      <h5 class="mod" style="font-family: Helvetica, Arial, sans-serif">Target</h5>
      <p class="mod-txt">Protein name</p>
      <input type="text" name="proteinname" id="proteinName" th:field="*{proteinname}">
      <p class="mod-txt">Gene</p>
      <input type="text" name="gene" id="gene" th:field="*{gene}">
      <p class="mod-txt">Uniport ID</p>
      <input type="text" name="uniportid" id="UniportId" th:field="*{uniportid}">
      <p class="mod-txt">PDB ID lists</p>
      <input type="text" name="pdbid" id="pdbid" th:field="*{pdbid}">
      <p class="mod-txt">Please enter the sequence</p>
      <textarea name="sequence" id="" style="width: 300px;height: 200px;" class="sequenceText" th:field="*{sequencel}"></textarea>
    </div>
    <div class="upload-right">
      <p class="mod-txt">Or drawing molecular structure</p>
      <div class="enterJME" name="jme" code="JME.class"  width=380 height=340>
        You have to enable JavaScript in your browser to use JSME !
      </div>
        <h5 class="mod" style="font-family: Helvetica, Arial, sans-serif">Function</h5>
        <p class="mod-txt">Please enter a description of its function</p>
        <textarea name="function" id="tempfunction" style="width: 300px;height: 100px;"></textarea>
        <p class="mod-txt">Related pathways</p>
        <div class="input-append">
          <input id="pathwayName" class="input-large" type="text">
        <a class="btn" onclick="$('input[id=pathways]').click();"></a>
      </div>
      <p class="mod-txt">Literature</p>
      <input type="text" name="literature">
      <h5 class="mod" style="font-family: Helvetica, Arial, sans-serif">Contributor Information</h5>
      <p class="mod-txt">Name</p>
      <input type="text" name="username" >
      <p class="mod-txt">Department</p>
      <input type="text" name="department">
      <p class="mod-txt">E-mail</p>
      <input type="text" name="mail">
        <input type="button" value="upload" onclick="getSmiles()">
    </div>
    <div style="clear:both"></div>

  </form>
  </div>

</div>
  <div style="height: 30px"></div>
<footer class="sigma_footer sigma_footer-dark">

  <!-- Middle Footer -->
  <div class="sigma_footer-middle">
    <div class="container">
      <div class="row">
        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-12 footer-widget">
          <img src="./static/assets/img/SMART_logo2.svg" class="mb-4" alt="logo">
          <p>The Ma Laboratory School of Life Sciences, Northwest A&F University, Yangling, Shaanxi, 712100, China</p>
          <!--<p>Room No.2216, State Key Laboratory of Crop Stress Biology for Arid Areas</p>-->
        </div>
        <div class="col-xl-4 col-lg-3 col-md-4 col-sm-12 footer-widget">
          <h5 class="widget-title">Information</h5>
          <ul>
            <li> <a href="index">Home</a> </li>
            <li> <a href="greeting">Contribute</a> </li>
            <li> <a href="./static/download/SMILES.zip">2D structure files</a> </li>
            <li> <a href="./static/downlaod/mol2.zip">3D structure files</a> </li>
             <li> <a href="help">Help</a> </li>
            <li> <a href="citingus">Contact</a> </li>

          </ul>
        </div>
        <div class="col-xl-3 col-lg-3 col-md-3 col-sm-12 d-none d-lg-block footer-widget">
          <h5 class="widget-title">About Us</h5>
          <ul>
            <li> <a href="https://bioinfo.nwafu.edu.cn/" target="_blank">MaLab</a> </li>
            <li> <a href="https://scholar.google.com/citations?user=UaWkSkIAAAAJ&hl=en" target="_blank">Google Scholar</a> </li>
            <li> <a href="https://github.com/cma2015" target="_blank">Github</a></li>
            <li> <a href="mailto:chuangma2006@gmail.com">Gmail</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer Bottom -->
  <div class="sigma_footer-bottom">
    <div class="container">
      <div class="sigma_footer-copyright">
        <p> Copyright © 2020. All Rights Reserved. </p>
      </div>
    </div>
  </div>

</footer>
<!-- Footer End -->

  <!-- Vendor Scripts -->
  <script src="./static/assets/js2/plugins/jquery-3.4.1.min.js"></script>
  <script src="./static/assets/js2/plugins/popper.min.js"></script>
  <script src="./static/assets/js2/plugins/bootstrap.min.js"></script>
  <script src="./static/assets/js2/plugins/imagesloaded.min.js"></script>
  <script src="./static/assets/js2/plugins/jquery.magnific-popup.min.js"></script>


  <script src="./static/assets/js2/plugins/jquery.countdown.min.js"></script>
  <script src="./static/assets/js2/plugins/jquery.waypoints.min.js"></script>
  <script src="./static/assets/js2/plugins/jquery.counterup.min.js"></script>
  <script src="./static/assets/js2/plugins/jquery.zoom.min.js"></script>
  <script src="./static/assets/js2/plugins/jquery.inview.min.js"></script>
  <script src="./static/assets/js2/plugins/jquery.event.move.js"></script>

  <script src="./static/assets/js2/plugins/wow.min.js"></script>
  <script src="./static/assets/js2/plugins/isotope.pkgd.min.js"></script>
  <script src="./static/assets/js2/plugins/slick.min.js"></script>
  <script src="./static/assets/js2/plugins/ion.rangeSlider.min.js"></script>

  <!-- Tilakam Scripts -->
  <script src="./static/assets/js2/main.js"></script>



 <script>
  $('input[id=uploadFiles]').change(function() {
        $('#FileName').val($(this).val());
    // console.log("anxiaoyan");
  });
  $('input[id=pathways]').change(function() {
    $('#pathwayName').val($(this).val());
    // console.log("anxiaoyan");
  });
  function getSmiles() {
        data = document.jme.smiles();
        //show.innerHTML="data:"+data;
        console.log("上传的smiles: " + data);
    $("#smilefile").val(data);
    console.log("修改后： " + $("#smilefile").val());
    $(".upload-content .upload-box form").submit();
    }
  $(document).ready(function () {
    $(".upload-content .upload-box .upload-right .enterJME").on("mouseup", function () {
      data = document.jme.smiles();
      //show.innerHTML="data:"+data;
      console.log("smiles: " + data);
      $("#smilefile").val(data);
    });
  });

  $("#drawingStructure").click(function(){
    // console.log(getSmiles());
      var data = getSmiles();
      var mins = $("#minimumSimilarity").val();
      var qunt = $("#topQuantity").val();
      console.log(data,mins,qunt);
      $.get("url",{data:data,mins:mins,qunt:qunt});
  });
</script>
</body>

</html>
